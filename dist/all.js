const modal=document.getElementById("modal"),modalContent=document.getElementsByClassName("modal-content")[0],btn=document.getElementById("btn"),span=document.getElementById("close"),displayCounter=document.getElementsByClassName("counter")[0],resetBtn=document.getElementById("btn-reset"),loading=document.getElementsByClassName("loading")[0],tableData=document.getElementsByClassName("table-data")[0];function generateTableData(e){var t=e;if(0==t.length)loading.style.display="block",tableData.style.display="none";else{loading.style.display="none";for(let e=0;e<t.length;e++){const o=document.querySelector("tbody"),a=document.createElement("tr");var n=`
        <td>${t[e].name}</td>
        <td>${t[e].email}</td>
        <td>${t[e].address.suite} ${t[e].address.street}, ${t[e].address.city}</td>
        <td>${t[e].phone}</td>
        <td>${t[e].company.name}</td>
      `;a.innerHTML=n,o.appendChild(a)}}}async function requestData(){try{const n=await fetch("https://jsonplaceholder.typicode.com/users");var e=await n.json(),t=(console.log(e),generateTableData(e));return t}catch(e){console.log("Error fetching data",e)}}function countClicks(){"undefined"!=typeof Storage&&(sessionStorage.count?sessionStorage.count=Number(sessionStorage.count)+1:sessionStorage.count=1,5<=sessionStorage.count?(resetBtn.style.display="block",resetBtn.addEventListener("click",()=>{sessionStorage.count=0,modal.style.display="none"})):resetBtn.style.display="none")}btn.onclick=()=>{modal.style.display="block",countClicks(),displayCounter.innerHTML=sessionStorage.count,requestData()},span.onclick=()=>{modal.style.display="none"},window.onclick=e=>{e.target==modal&&(modal.style.display="none")};